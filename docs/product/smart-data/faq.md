---
sidebar_position: 4
---

# 常见问题

## 数据连接

### 支持哪些数据源？

**数据库：**
- 关系型：MySQL、PostgreSQL、SQL Server、Oracle
- NoSQL：MongoDB、Redis
- 数据仓库：Hive、ClickHouse、Snowflake

**文件：**
- Excel (.xlsx, .xls)
- CSV (.csv)
- JSON (.json)

**API：**
- RESTful API
- GraphQL

**SaaS应用：**
- Salesforce、Google Analytics
- 钉钉、企业微信

### 数据源连接失败怎么办？

**检查清单：**

1. **网络连通性**
   ```bash
   # 测试端口是否可达
   telnet your-db-host 3306
   ```

2. **防火墙设置**
   - 确保数据库端口开放
   - 检查云服务器安全组规则

3. **用户权限**
   ```sql
   -- 授予查询权限
   GRANT SELECT ON database.* TO 'user'@'%';
   FLUSH PRIVILEGES;
   ```

4. **白名单配置**
   - 将平台 IP 添加到数据库白名单

### 如何提高数据同步速度？

**优化建议：**

1. **使用增量同步**
   ```sql
   WHERE update_time > '${last_sync_time}'
   ```

2. **添加索引**
   ```sql
   CREATE INDEX idx_update_time ON table(update_time);
   ```

3. **分批同步**
   - 大表分批同步
   - 设置合理的批次大小

4. **选择低峰时段**
   - 避开业务高峰期
   - 通常选择凌晨同步

## 智能问答

### 智能问答识别不准确？

**提高准确率技巧：**

1. **使用标准业务术语**
   - ✅ "上个月销售额"
   - ❌ "上月卖了多少"

2. **明确时间范围**
   - ✅ "2023年1月的销售额"
   - ❌ "之前的销售额"

3. **指定维度和指标**
   - ✅ "按区域统计销售额"
   - ❌ "销售情况"

4. **使用示例问题**
   - 参考系统推荐的问题模板

### 支持哪些时间表达？

**绝对时间：**
- 2023年、2023年1月、2023-01-15
- 今天、昨天、明天
- 本周、上周、下周
- 本月、上月、下月
- 本季度、上季度
- 今年、去年

**相对时间：**
- 最近7天、最近30天
- 过去3个月
- 未来一周

**时间对比：**
- 同比（去年同期）
- 环比（上一期）

### 如何训练问答模型？

1. **添加业务术语**
   - 进入「设置」→「业务术语」
   - 添加同义词映射：
     ```
     销售额 = 营收 = 收入
     客户 = 用户 = 买家
     ```

2. **标注示例问题**
   - 提供典型问题示例
   - 标注正确的查询逻辑

3. **反馈纠错**
   - 对错误结果点「不准确」
   - 提供正确的理解方式

## 图表与报表

### 图表显示不完整？

**常见原因及解决：**

1. **数据量过大**
   - 使用分页或滚动
   - 聚合数据后再展示
   - 使用 Top N 限制

2. **坐标轴范围**
   - 调整坐标轴范围
   - 使用对数坐标

3. **浏览器兼容性**
   - 更新到最新版本浏览器
   - 推荐使用 Chrome

### 如何选择合适的图表类型？

**选择指南：**

| 目的 | 推荐图表 |
|------|----------|
| 展示趋势 | 折线图、面积图 |
| 对比数据 | 柱状图、条形图 |
| 展示占比 | 饼图、环形图 |
| 展示分布 | 散点图、直方图 |
| 展示流程 | 漏斗图、桑基图 |
| 地理分布 | 地图、热力地图 |
| 多维对比 | 雷达图 |

**提示**：智能问答会自动推荐合适的图表类型。

### 报表加载很慢怎么办？

**优化策略：**

1. **启用缓存**
   - 设置数据集缓存
   - 设置图表缓存

2. **减少组件数量**
   - 单个报表不超过 20 个组件
   - 使用 Tab 分页展示

3. **优化查询**
   - 预聚合数据
   - 限制查询时间范围
   - 使用数据集而非直连

4. **图片优化**
   - 压缩背景图片
   - 使用 Web 格式（WebP）

## 数据监控

### 告警通知收不到？

**检查步骤：**

1. **告警规则是否启用**
   - 检查规则状态

2. **触发条件是否满足**
   - 查看告警历史
   - 验证数据是否符合条件

3. **通知渠道配置**
   - 验证邮箱地址
   - 检查企业微信/钉钉集成
   - 查看通知日志

4. **邮件在垃圾箱**
   - 检查垃圾邮件文件夹
   - 将发件地址加入白名单

### 如何避免告警风暴？

**最佳实践：**

1. **设置告警间隔**
   ```
   同一告警 30 分钟内只发送一次
   ```

2. **使用告警聚合**
   ```
   5分钟内的相同告警聚合发送
   ```

3. **设置告警级别**
   - 紧急：立即通知
   - 重要：5分钟聚合
   - 一般：1小时聚合

4. **告警降噪**
   - 合理设置阈值
   - 避免过于敏感的规则

## 性能问题

### 查询超时怎么办？

**解决方案：**

1. **优化查询**
   ```sql
   -- 添加时间范围限制
   WHERE date >= DATE_SUB(NOW(), INTERVAL 30 DAY)

   -- 使用索引字段
   WHERE indexed_column = 'value'

   -- 避免 SELECT *
   SELECT column1, column2 FROM table
   ```

2. **使用数据集**
   - 创建预聚合数据集
   - 定时同步数据

3. **调整超时设置**
   - 进入「数据源设置」
   - 增加查询超时时间

4. **数据库优化**
   - 添加索引
   - 优化数据库配置

### 并发用户限制？

**性能指标：**
- 标准版：100 并发用户
- 企业版：1000 并发用户
- 私有部署：无限制

**提升并发能力：**
1. 启用缓存
2. 使用 CDN
3. 升级套餐
4. 私有化部署

## 权限与安全

### 如何设置行级权限？

**配置步骤：**

1. 进入数据集设置
2. 点击「行级权限」
3. 添加权限规则：
   ```sql
   -- 只能查看自己区域的数据
   region = '${current_user.region}'

   -- 只能查看自己部门的数据
   department = '${current_user.department}'
   ```
4. 保存并测试

### 如何脱敏敏感字段？

**方法一：字段脱敏**

1. 选择需要脱敏的字段
2. 配置脱敏规则：
   ```
   手机号: 138****5678
   邮箱: a***@example.com
   身份证: 110101********1234
   ```

**方法二：使用计算字段**

```sql
-- 手机号脱敏
CONCAT(SUBSTR(phone, 1, 3), '****', SUBSTR(phone, -4))

-- 姓名脱敏
CONCAT(SUBSTR(name, 1, 1), '**')
```

### 审计日志在哪里查看？

**查看路径：**

1. 管理员登录
2. 进入「系统设置」→「审计日志」
3. 筛选查看：
   - 登录日志
   - 操作日志
   - 数据访问日志
   - 权限变更日志

**日志保留：**
- 标准版：30 天
- 企业版：1 年
- 可导出归档

## 集成与API

### 如何嵌入到自己的系统？

**方法一：iframe 嵌入**

```html
<iframe
  src="https://your-platform.com/report/123?token=xxx"
  width="100%"
  height="600"
  frameborder="0">
</iframe>
```

**方法二：JavaScript SDK**

```javascript
import SmartData from 'smart-data-sdk';

const dashboard = new SmartData({
  container: '#dashboard',
  reportId: '123',
  apiKey: 'your-api-key',
  theme: 'light'
});

dashboard.render();
```

### API 调用限制？

**频率限制：**
- 免费版：100 次/天
- 标准版：10000 次/天
- 企业版：100000 次/天

**单次查询：**
- 超时：30 秒
- 返回行数：最多 10000 行

**如何提高限制：**
- 升级套餐
- 联系商务定制

## 故障排查

### 报表打不开？

**排查步骤：**

1. **检查权限**
   - 确认有访问权限
   - 检查分享链接是否过期

2. **清除缓存**
   - 清除浏览器缓存
   - 使用无痕模式测试

3. **检查数据源**
   - 数据源是否正常
   - 数据集是否可用

4. **查看错误信息**
   - F12 打开开发者工具
   - 查看 Console 错误

### 数据不准确？

**检查步骤：**

1. **数据源验证**
   ```sql
   -- 直接查询数据库验证
   SELECT COUNT(*) FROM table WHERE ...
   ```

2. **同步状态**
   - 检查最后同步时间
   - 手动触发同步

3. **计算逻辑**
   - 检查计算字段公式
   - 验证聚合方式

4. **筛选条件**
   - 检查默认筛选条件
   - 清除筛选重新查看

## 获取帮助

### 如何联系技术支持？

**支持渠道：**
- 📧 邮件：support@smart-data.com
- 💬 在线客服：工作日 9:00-18:00
- 📞 电话：400-XXX-XXXX
- 📖 帮助文档：docs.smart-data.com

### 如何提交功能建议？

1. 访问用户社区
2. 点击「功能建议」
3. 描述需求场景
4. 提交建议
5. 社区投票

### 培训与认证

**在线培训：**
- 新手入门课程（免费）
- 高级功能课程
- 最佳实践课程

**认证考试：**
- 初级分析师认证
- 高级分析师认证
- 专家级认证

访问 [培训中心](https://training.smart-data.com) 了解更多。

---

没找到答案？访问[帮助中心](./overview)或[联系我们](#获取帮助)。
