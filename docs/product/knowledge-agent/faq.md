---
sidebar_position: 4
---

# 常见问题

## 知识库问题

### 支持哪些文档格式？

**文档类型：**
- Word: .docx, .doc
- PDF: .pdf
- 文本: .txt, .md
- 网页: .html
- 数据: .xlsx, .csv, .json

### 知识库容量限制？

**容量限制：**
- 免费版: 100 MB
- 标准版: 10 GB
- 企业版: 100 GB
- 私有部署: 无限制

### 文档解析失败怎么办？

**常见原因：**

1. **PDF加密**
   - 先解密PDF文件

2. **格式不支持**
   - 转换为支持的格式

3. **文件损坏**
   - 检查文件完整性

4. **文件过大**
   - 单文件建议不超过100MB

## 检索问题

### 检索结果不准确？

**优化建议：**

1. **优化切片**
   ```
   切片过大 → 减小切片大小
   切片过小 → 增大切片大小
   推荐: 300-800字
   ```

2. **调整检索参数**
   ```
   相似度阈值: 0.6-0.8
   返回数量: 3-10
   ```

3. **补充知识**
   - 添加相关文档
   - 补充常见表述

### 如何提高检索准确率？

**最佳实践：**

**文档质量：**
- 内容准确完整
- 结构清晰
- 避免歧义

**检索配置：**
- 混合检索模式
- 启用重排序
- 合理的相似度阈值

**持续优化：**
- 分析失败case
- 收集用户反馈
- 定期更新知识库

## 智能体问题

### 回答不符合预期？

**检查项：**

1. **提示词**
   - 是否明确角色定位
   - 是否有清晰的规则
   - 是否有示例

2. **检索结果**
   - 查看检索到的文档
   - 检查相关性得分

3. **模型配置**
   - 温度参数 (0.1-1.0)
   - 最大tokens
   - 停止词设置

### 如何控制回答长度？

**方法一：提示词控制**
```
请用3-5句话简洁回答
```

**方法二：模型参数**
```
max_tokens: 200
```

**方法三：后处理**
- 截断过长回答
- 提取关键信息

### 多轮对话理解错误？

**优化建议：**

1. **增加上下文轮数**
   ```
   3轮 → 5轮
   ```

2. **优化提示词**
   ```
   在提示词中说明要理解上下文
   ```

3. **使用指代消解**
   - 识别代词指代
   - 补全省略成分

## 性能问题

### 响应速度慢？

**优化方案：**

1. **缓存策略**
   ```
   启用问题缓存
   设置缓存时间: 1小时
   ```

2. **检索优化**
   ```
   减少返回文档数: 10 → 5
   使用预过滤
   ```

3. **模型选择**
   ```
   使用更快的模型
   减小max_tokens
   ```

### 并发限制？

**并发能力：**
- 免费版: 10 QPS
- 标准版: 100 QPS
- 企业版: 1000 QPS
- 私有部署: 按需配置

## 集成问题

### API调用返回错误？

**常见错误：**

**401 Unauthorized**
```bash
# 检查API Key是否正确
Authorization: Bearer YOUR_API_KEY
```

**429 Too Many Requests**
```
超过频率限制，稍后重试
```

**500 Internal Error**
```
服务异常，检查:
- 智能体是否正常
- 知识库是否可用
```

### 如何处理超时？

**超时设置：**
```javascript
fetch(url, {
  timeout: 30000, // 30秒
  retries: 3      // 重试3次
})
```

**降级策略：**
```
超时 → 返回默认回答
或
超时 → 转人工服务
```

## 计费问题

### 如何计费？

**计费维度：**

1. **存储费用**
   - 知识库存储空间
   - 按GB/月计费

2. **调用费用**
   - API调用次数
   - 按千次计费

3. **向量费用**
   - 向量生成次数
   - 向量存储空间

### 如何降低成本？

**优化建议：**

1. **减少不必要的调用**
   - 前端去重
   - 使用缓存

2. **优化知识库**
   - 删除重复内容
   - 清理无用文档

3. **合理选择模型**
   - 简单场景用小模型
   - 复杂场景用大模型

## 安全问题

### 知识库数据安全吗？

**安全措施：**
- ✅ 数据加密存储
- ✅ 传输加密(HTTPS)
- ✅ 权限隔离
- ✅ 审计日志

### 如何防止数据泄露？

**最佳实践：**

1. **访问控制**
   ```
   设置API Key权限
   IP白名单
   ```

2. **内容过滤**
   ```
   敏感信息脱敏
   设置内容审核
   ```

3. **监控告警**
   ```
   异常调用告警
   数据访问审计
   ```

## 获取帮助

### 如何联系支持？

**支持渠道：**
- 📧 邮箱: support@platform.com
- 💬 在线客服
- 📖 文档中心
- 👥 开发者社区

### 如何提交Bug？

1. 访问 GitHub Issues
2. 使用Bug模板
3. 提供复现步骤
4. 附上日志和截图

---

更多问题请查看[完整文档](../overview.md)或联系我们。
