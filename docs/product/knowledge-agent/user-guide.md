---
sidebar_position: 3
---

# 使用手册

## 快速开始

### 创建知识库

1. 登录平台
2. 点击「知识库」→「创建知识库」
3. 填写基本信息：
   ```
   名称: 产品帮助中心
   描述: 产品使用文档知识库
   类型: 通用知识库
   ```
4. 选择 Embedding 模型
5. 创建完成

### 导入文档

#### 上传文件

1. 进入知识库
2. 点击「导入文档」→「上传文件」
3. 选择文件（支持批量）
4. 配置解析选项：
   - 切片策略: 按段落
   - 切片大小: 500 字
   - 重叠大小: 50 字
5. 开始导入

#### 从URL导入

1. 点击「导入文档」→「从 URL」
2. 输入网页地址
3. 选择抓取深度
4. 开始抓取和解析

### 配置智能体

#### 基础配置

1. 点击「智能体」→「创建智能体」
2. 选择知识库
3. 配置基本信息：
   ```
   名称: 产品助手
   欢迎语: 您好！我是产品助手，有什么可以帮您？
   未知回复: 抱歉，这个问题我暂时无法回答。
   ```

#### 配置提示词

```
你是一个专业的产品助手。

回答规则：
1. 基于知识库内容准确回答
2. 保持友好、专业的语气
3. 如不确定请诚实告知
4. 可以引导用户提供更多信息

回答格式：
- 简洁清晰
- 分点说明
- 必要时提供示例
```

#### 配置检索

1. 进入「检索配置」
2. 设置检索参数：
   ```
   检索模式: 混合检索
   向量权重: 0.7
   关键词权重: 0.3
   返回数量: 5
   相似度阈值: 0.7
   ```

### 测试与调试

#### 对话测试

1. 点击「测试」按钮
2. 在测试窗口输入问题
3. 查看回答和检索结果
4. 检查：
   - 回答是否准确
   - 检索文档是否相关
   - 响应时间是否合理

#### 调试信息

查看详细信息：
- 检索到的文档片段
- 相似度得分
- 使用的提示词
- 模型响应时间

### 部署发布

#### Web集成

1. 点击「部署」→「Web小部件」
2. 复制嵌入代码：
   ```html
   <script src="https://agent.platform.com/widget.js"></script>
   <script>
     AgentWidget.init({
       agentId: 'your-agent-id',
       apiKey: 'your-api-key'
     });
   </script>
   ```
3. 粘贴到网站代码中

#### API调用

```bash
curl -X POST https://api.platform.com/v1/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_id": "your-agent-id",
    "message": "如何重置密码？",
    "session_id": "session_123"
  }'
```

## 进阶功能

### 对话流程设计

#### 创建流程

1. 进入「工作流」页面
2. 拖拽节点到画布：
   - 开始节点
   - 问答节点
   - 意图识别节点
   - 条件分支节点
   - API调用节点
3. 连接节点
4. 配置节点参数
5. 保存并测试

#### 示例流程

```
[开始]
  ↓
[意图识别]
  ├─ 查询订单 → [API调用] → [回复订单状态]
  ├─ 咨询问题 → [知识库检索] → [生成回答]
  └─ 其他 → [转人工]
```

### 意图与实体

#### 创建意图

1. 进入「意图管理」
2. 点击「新建意图」
3. 配置意图：
   ```
   意图名称: 查询订单
   训练语料:
   - "我想查订单"
   - "查一下我的订单"
   - "订单状态是什么"
   - ...
   ```

#### 配置实体

```
实体名称: 订单号
实体类型: 正则表达式
匹配规则: ^[0-9]{10,20}$
示例值: 1234567890
```

### 知识优化

#### 查看检索日志

1. 进入「分析」→「检索日志」
2. 筛选低相关度查询
3. 分析原因：
   - 知识库缺失
   - 表述不匹配
   - 切片不合理

#### 优化知识库

**补充内容：**
- 添加常见问题
- 补充同义表述
- 完善文档内容

**优化切片：**
- 调整切片大小
- 优化重叠设置
- 改进文档结构

### 多轮对话

#### 配置上下文

```
启用上下文: 是
上下文轮数: 5
记忆类型:
  ✅ 对话历史
  ✅ 用户信息
  ✅ 会话变量
```

#### 使用示例

```
用户: 介绍一下你们的产品
Bot: 我们提供三款产品...

用户: 第一款多少钱？
Bot: [理解"第一款"指代前文的产品A] 产品A的价格是...
```

## 最佳实践

### 知识库建设

**内容组织：**
- 结构化文档
- 清晰的标题层级
- 统一的术语表达

**质量控制：**
- 定期审核更新
- 删除过时内容
- 保持内容准确性

### 提示词优化

**清晰的角色定位：**
```
你是XX公司的客服助手，专门解答产品使用问题。
```

**明确的行为规范：**
```
- 基于知识库回答，不编造信息
- 不确定时诚实告知
- 引导用户提供必要信息
```

### 检索优化

**查询预处理：**
- 去除无意义词
- 同义词替换
- 拼写纠错

**结果优化：**
- 设置合理的相似度阈值
- 结果去重
- 多样性控制

## 下一步

- 查看 [功能详解](./features.md) 了解更多功能
- 查看 [常见问题](./faq.md) 获取帮助
