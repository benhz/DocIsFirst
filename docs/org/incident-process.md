# 故障流程

## 故障定义

见 [故障响应](../operations/incident-response.md)

## 故障通报流程

### 1. 发现故障
- 监控告警
- 用户反馈
- 主动巡检

### 2. 确认故障
- 确认故障等级（P0/P1/P2）
- 确认影响范围

### 3. 拉群沟通
创建临时群：
- 值班人员
- 相关开发
- TL
- PM（如需）

### 4. 应急处理
- P0：5 分钟内响应
- P1：30 分钟内响应
- P2：2 小时内响应

### 5. 故障恢复
- 执行应急方案
- 验证功能恢复
- 通知相关方

### 6. 通报公告
**内部通报**（企业微信）：
```
【故障通报】
等级：P0
时间：2025-12-03 10:00 - 10:30
影响：用户无法登录
原因：数据库主从切换
处理：已切换回主库
状态：已恢复
```

**外部通报**（如需）：
- 状态页更新
- 邮件通知
- 公告通知

## 故障复盘流程

### 时间要求
- P0/P1：48 小时内
- P2：1 周内

### 复盘内容
1. **故障描述**
   - 故障时间
   - 故障现象
   - 影响范围

2. **时间线**
   - 发现时间
   - 响应时间
   - 恢复时间

3. **根本原因（5 Whys）**
   - 表面原因
   - 深层原因
   - 根本原因

4. **处理过程**
   - 应急措施
   - 解决方案

5. **改进措施（Action Items）**
   - 短期措施
   - 长期措施
   - 责任人
   - 完成时间

### 复盘会议
- 参与人：故障相关人员 + TL
- 主持人：值班 Leader
- 记录人：指定专人
- 输出：复盘文档

## 故障考核

### 考核指标
- 响应时间
- 恢复时间
- 故障频率
- 改进落实

### 奖惩机制
- 及时响应：正向激励
- 重大故障：复盘学习，不追责
- 重复故障：需要改进
